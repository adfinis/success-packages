<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>Vault usage</title>
    <link rel="shortcut icon" href="./favicon.ico" />
    <link rel="stylesheet" href="./dist/reset.css" />
    <link rel="stylesheet" href="./dist/reveal.css" />
    <link rel="stylesheet" href="./dist/theme/black.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/base16/zenburn.css" />


  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">

# Vault usage
</script></section><section  data-markdown><script type="text/template">
This presentation guides you through the usage of Vault.
</script></section><section  data-markdown><script type="text/template">
## Introduction

- Who am I?
- Who/what is Adfinis?
- Who are you?
</script></section><section  data-markdown><script type="text/template">
## Topics

-
</script></section><section  data-markdown><script type="text/template">
## Vault

A tool to manage *secrets*, typically for *systems*.

> Secrets: Anything sensitive; credentials, API keys, SSL keys, etc.

> Systems: An application like Tomcat, CI, k8s, etc.
</script></section><section  data-markdown><script type="text/template">
## Ways to use Vault

- CLI.
- UI.
- API.

> In the end, it's all API.
</script></section><section ><section data-markdown><script type="text/template">
## Vault CLI 1/5

Mostly used for administration and debugging.
</script></section><section data-markdown><script type="text/template">
## Vault CLI 2/5

```text
export VAULT_ADDR='http://127.0.0.1:8200'
```
</script></section><section data-markdown><script type="text/template">
## Vault CLI 3/5

```text
vault login
Token (will be hidden): 
Success! You are now authenticated. The token information displayed below
is already stored in the token helper. You do NOT need to run "vault login"
again. Future Vault requests will automatically use this token.

Key                  Value
---                  -----
token                hvs.OVWwDAoEvtdYh8Qe0nvFuOPE
token_accessor       76oHT2vMS7CAQYPPxDXYyiUB
token_duration       âˆž
token_renewable      false
token_policies       ["root"]
identity_policies    []
policies             ["root"]
```
</script></section><section data-markdown><script type="text/template">
## Vault CLI 4/5

```text
vault secrets list
Path          Type         Accessor              Description
----          ----         --------              -----------
cubbyhole/    cubbyhole    cubbyhole_ce014447    per-token private secret storage
identity/     identity     identity_dab74cb7     identity store
secret/       kv           kv_cbcf9046           key/value secret storage
sys/          system       system_b6408332       system endpoints used for control, policy and debugging
```
</script></section><section data-markdown><script type="text/template">
## Vault CLI 5/5

```shell
vault kv get secret/my_secret
==== Secret Path ====
secret/data/my_secret

======= Metadata =======
Key                Value
---                -----
created_time       2023-12-07T09:03:27.87442Z
custom_metadata    <nil>
deletion_time      n/a
destroyed          false
version            1

====== Data ======
Key         Value
---         -----
password    mypassword
username    myusername
```
</script></section></section><section ><section data-markdown><script type="text/template">
## Vault UI 1/3

Nice, but not all features are available.
</script></section><section data-markdown><script type="text/template">
## Vault UI 2/3

![The Vault UI dashboard](https://raw.githubusercontent.com/adfinis/success-packages/master/images/vault-ui-dashboard.png)
</script></section><section data-markdown><script type="text/template">
## Vault UI 3/3

![The Vault UI exposing a KV](https://raw.githubusercontent.com/adfinis/success-packages/master/images/vault-ui-kv.png)
</script></section></section><section ><section data-markdown><script type="text/template">
## Vault API

Well [documented](https://developer.hashicorp.com/vault/api-docs), and feature complete.
</script></section><section data-markdown><script type="text/template">
## Vault API

```shell
curl \
    -H "X-Vault-Token: hvs.OVWwDAoEvtdYh8Qe0nvFuOPE" \
    -X GET \
    http://127.0.0.1:8200/v1/secret/data/my_secret 
```
</script></section></section><section  data-markdown><script type="text/template">
## Vaukt API

```json
{
  "request_id": "4b15ae49-1c45-1052-c106-b7d005dc2858",
  "lease_id": "",
  "renewable": false,
  "lease_duration": 0,
  "data": {
    "data": {
      "password": "mypassword",
      "username": "myusername"
    },
    "metadata": {
      "created_time": "2023-12-07T09:03:27.87442Z",
      "custom_metadata": null,
      "deletion_time": "",
      "destroyed": false,
      "version": 1
    }
  },
  "wrap_info": null,
  "warnings": null,
  "auth": null
}
```
</script></section><section  data-markdown><script type="text/template">
## Questions
</script></section><section  data-markdown><script type="text/template">
## Thanks
</script></section></div>
    </div>

    <script src="./dist/reveal.js"></script>

    <script src="./plugin/markdown/markdown.js"></script>
    <script src="./plugin/highlight/highlight.js"></script>
    <script src="./plugin/zoom/zoom.js"></script>
    <script src="./plugin/notes/notes.js"></script>
    <script src="./plugin/math/math.js"></script>
    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath
        ]
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
